<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js" integrity="sha512-3gJwYpMe3QewGELv8k/BX9vcqhryRdzRMxVfq6ngyWXwo03GFEzjsUm8Q7RZcHPHksttq7/GFoxjCVUjkjvPdw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
</head>
<body>
    <section class=" w-full h-full">
<form class="w-4/12 text-center m-auto mt-28"  method="PUT" id="update_pro">
    <div class="mb-6">
      <label for="product" class="block mb-2 text-sm font-bold text-black  ">Product</label>
      <input type="name" id="product" name="product" value="<%= updateData.product %>" class=" font-bold shadow-sm bg-gray-50 border border-gray-300 text-black  text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400  dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-sm-light"  required>
    </div>
    <div class="mb-6">
      <label for="category" class="block mb-2 text-sm font-bold text-black  ">Category</label>
      <input type="text" id="category" name="category" value="<%= updateData.category %>" class="font-bold shadow-sm bg-gray-50 border border-gray-300 text-black  text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400  dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-sm-light" required>
    </div>
    <div class="mb-6">
      <label for="price" class="block mb-2 text-sm font-bold text-black  ">Price</label>
      <input type="text" name="price" value="<%= updateData.price %>" id="price" class="font-bold shadow-sm bg-gray-50 border border-gray-300 text-black  text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400  dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-sm-light" required>
    </div>
   
    <button type="submit" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-bold rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">UPDATE</button>
  </form>
  <input type="text" value="<%= updateData._id %>" class="hidden" id="proId">
  </section>

  
</body>
<style>
*{background-color: azure}
</style>

<script>

    

    $('#update_pro').submit(function(event) {
        event.preventDefault();
    
        const formData = $(this).serialize();
        const proId = $('#proId').val();
    
        $.ajax({
          url: `/update/${proId}`,
          method: 'PUT',
          data: formData,
          success: function(response) {
           alert("Data Updated Successfully!")
           window.location.href = 'http://localhost:3000/products'
          },
          error: function(error) {
            console.log(error)
          }
        });
 });



</script>
</html>